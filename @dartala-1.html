<!DOCTYPE html>
<html>
    <Head>
        <meta charset="utf-8">
        <title>TikTok</title>
        <link rel="shortcut icon" type="image/x-icon" id="favicon">
        <meta name="screen-orientation" content="portrait">
        <meta name="x5-orientation" content="portrait">
        <meta name="format-detection" content="telephone=no">
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, minimum-scale=1, maximum-scale=1, minimal-ui, viewport-fit=cover">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="applicable-device" content="pc,mobile"/>
        <link rel="dns-prefetch" href="https://sf16-scmcdn-sg.ibytedtos.com" />
        <script async src="https://sf16-scmcdn-sg.ibytedtos.com/goofy/log-sdk/collect/collect-tcpy.js"></script>
        <script>
            const option = {"title":"tiktok-verify-page","iid":"0","did":"0","app_name":"tiktok","aid":1284,"favicon":"https://lf16-tiktok-common.ibytedtos.com/obj/tiktok-web-common-sg/mtact/static/images/tiktok-logo/logo.png","mobileIcons":["https://lf16-tiktok-common.ibytedtos.com/obj/tiktok-web-common-sg/mtact/static/images/tiktok-logo/tiktok_m.png","https://lf16-tiktok-common.ibytedtos.com/obj/tiktok-web-common-sg/mtact/static/images/tiktok-logo/tiktok_m2x.png","https://lf16-tiktok-common.ibytedtos.com/obj/tiktok-web-common-sg/mtact/static/images/tiktok-logo/tiktok_m3x.png"],"icons":["https://lf16-tiktok-common.ibytedtos.com/obj/tiktok-web-common-sg/mtact/static/images/tiktok-logo/tiktok_w.png","https://lf16-tiktok-common.ibytedtos.com/obj/tiktok-web-common-sg/mtact/static/images/tiktok-logo/tiktok_w2x.png","https://lf16-tiktok-common.ibytedtos.com/obj/tiktok-web-common-sg/mtact/static/images/tiktok-logo/tiktok_w3x.png"],"region":"sg","type":"slide","verifyConfig":{"code":10000,"type":"verify","subtype":"slide","fp":"verify_l5g3f696_HKRb64bl_BAOl_4POV_8GAV_Rk96kNkmpvYh","region":"sg","detail":"6hPLKFj427P-USdqV09KK9DyqEJh9FaFzeJPfZU0rX6g7wGU24sh1VuBmHsE5iSDr2K26yKytLX034ee2y0pvkK6gMsOFwy0xaFp68ZkRLUOs48cJDDsl8cvdeoCPWvHJ*o*HytGwYxtOax4arjeHyHOjUUii5VxJtzVKxXvjCryOCjonRnbOM2XUBi6SlmSJsUWQDbLWefTQf7D-Pd1fZOxpc3S*1nb9QH1uov*VI5KTtqB2o2imqF5e9*aQK5Y6FCHDLrPK3HyEhapN8kew6Iqye3iizzYoulZg1JM9rJiOdK71a4WJqrRG20syYBaiXVqH64B8f1wH9Gv72M0bcadIHTVqR4QZ8oPXLWOxondHN5XLvxBmXaZjbVY"},"lang":"ar"};

            if(!option.region) {
                option.region = 'sg';
            }
            var verifyTime = new Date().getTime();
            (function(win, export_obj) {
                win['TeaAnalyticsObject'] = export_obj;
                if (!win[export_obj]) {
                    function _collect() {
                        _collect.q.push(arguments);
                    }
                    _collect.q = _collect.q || [];
                    win[export_obj] = _collect;            
                }
                win[export_obj].l = +new Date();
            })(window, 'collectEvent');

            window.collectEvent('page.init', {
                app_id: option.region === 'cn' ? 2018 : 2740,
                channel: option.region === 'boe' ? 'cn' : option.region,
                log: true,
            });

            window.collectEvent('page.start');
            window.collectEvent('page.verify_page_load', {
                aid: option.aid,
                product_host: location.host,
                product_path: location.pathname,
                time: new Date().getTime(),
                is_success: 0,
                duration: new Date().getTime() - verifyTime
            })
            window.onbeforeunload = function () {
                window.collectEvent(document.readyState === 'complete' ? 'page.verify_page_close' : 'page.verify_page_load_close', {
                    product_host: location.host,
                    product_path: location.pathname,
                    aid: option.aid,
                    time: new Date().getTime(),
                    fp: (document.cookie.match(/s_v_web_id=(\w+)/) || [])[1],
                    is_success: Number(!!window.verify_is_success)
                })
            }
        </script>
        <script src="https://sf16-scmcdn-sg.ibytedtos.com/goofy/sec_sdk_build/3.1.3/captcha/index.js"></script>
        <script async src="https://sf16-muse-va.ibytedtos.com/obj/eden-va2/fviylclsjeh7bogubfbd/tt-webapp/starling.browser.js"></script>
    </Head>
    <body>
        <div class="content">
            <div class="app_icon"></div>
            <div class="verify-wrap">
                <div id="verify-ele"></div>
            </div>
            <p class="page-desc" id="verifyEle"></p>
        </div>
    </body>
    <style>
        html, body {
            min-height: 500px;
        }
        body {
            background: #EDF0F5;
            display: flex;
        }
        .content { 
            width: 300px;
            margin: auto;
        }

        .verify-wrap {
            min-height: 306px;
        }

        @media (min-width: 1281px) {
            .content {
                width: 380px;
            }

            .verify-wrap {
                min-height: 386px;
            }
        }
        
        .captcha_verify_container {
            border: 1px solid #E8E8E8;
        }

        .captcha_verify_container #verify-bar-close {
            display: none;
        }

        .app_icon img {
            margin-bottom: 20px;
        }

        .page-desc{
            margin-top: 32px;
            font-family: PingFangSC-Medium;
            font-size: 12px;
            color: #505050;
            line-height: 19px;
        }

        .page-desc span {
            font-family: 'PingFangSC-Regular';
            color: #505050;

        }
    </style>
    <script>
        const pageDescKey = 'user_verify_page_description';
        const ua = navigator.userAgent;
        const isMobile = /Android|webOS|iPhone|iPod|BlackBerry|Windows Phone|iPad/i.test(ua);
        const hosts = {
            cn: '//verify.snssdk.com',
            boe: '//boe-verify.snssdk.com',
            sg: '//verify-sg.byteoversea.com',
            va: '//verification-va.byteoversea.com'
        };

        window.TTGCaptcha.init({
          commonOptions: {
            aid: option.aid || 0,
            did: '0',
            iid: '0',
          },
          captchaOptions: {
            ele: 'verify-ele',
            host: hosts[option.region],
            lang: option.lang.match(/zh/) ? 'zh-Hant' : option.lang,
            region: option.region,
            app_name: option.app_name || '',
            hideCloseBtn: true,
            successCb: successCb,
            feedbackSubmitCb: feedbackSubmitCb,
            autoClose: false
          },
        });
       
        window.onload = function () {
            window.verify_is_success = true;
            document.querySelector('#favicon').href = option.favicon;
            document.title = option.title || 'security verification';
            const icon = isMobile ? option.mobileIcons : option.icons;
            if (option.icons || true) {
                let img = document.createElement('img');
                img.srcset = `${icon[0]} 1x,
                    ${icon[1]} 2x,
                    ${icon[2]} 3x`;
                img.alt = 'app logo';
                img.src = icon[0];
                document.querySelector('.app_icon').appendChild(img);
            }

            window.collectEvent(location.href === document.referrer ? 'page.verify_page_refresh' : 'page.verify_page_init', {
                duration: new Date().getTime() - verifyTime,
                aid: option.aid,
                region: option.region,
                fp: (document.cookie.match(/s_v_web_id=(\w+)/) || [])[1],
                is_success: 1,
                product_host: location.host,
                product_path: location.pathname,
            })

            const starling = new Starling({
                api_key: '5dc26cf008d511e9b571e1bc0c9e23b5',
                namespace: 'Captcha',
                locale: option.lang,
                zone: (option.region || 'SG').toUpperCase(),
                test: false,
                fallbackLang: ['en'],
            });
            starling.load((texts) => {
                let desc = document.querySelector('#verifyEle');
                desc.innerText = texts[pageDescKey];
            });

            window.TTGCaptcha.render({
                verify_data: JSON.stringify({
                  subtype: option.type,
                  ...(option.verifyConfig || {}),
                })
            });

            // tt embed iframe
            if (window.self !== window.top && window.name.indexOf('__tt_embed__') !== -1) {
                const resizeData = JSON.stringify({
                    signalSource: window.name,
                    height: 600,
                });
                window.parent.postMessage(resizeData, '*');
            }
        }

        function successCb() {
            location.reload();
        }

        function feedbackSubmitCb() {
            window.TTGCaptcha.render({
                verify_data: JSON.stringify({
                  subtype: option.type,
                  ...(option.verifyConfig || {}),
                })
            });
        }
    </script>
</html>